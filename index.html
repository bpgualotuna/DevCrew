<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <title>Prueba Tienda - Validaciones con errores</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="utilitarios.js"></script>
    <script src="scripts.js"></script>
</head>

<body onload="mostrarSeccion('seccion1');"  >

    <!-- Logos fijos a los lados -->
    <img src="./imagenes/logo.png" alt="Logo Izquierdo" id="logo-izquierdo" />
    <img src="./imagenes/logo.png" alt="Logo Derecho" id="logo-derecho" />

    <nav class="menu">
        <button onclick="mostrarSeccion('seccion1')">Productos</button>
        <button onclick="mostrarSeccion('seccion2')">Categorías</button>
        <button onclick="mostrarSeccion('seccion3')">Carrito</button>
        <button onclick="mostrarSeccion('seccion4')">Cliente</button>
        <button onclick="mostrarSeccion('seccion5')">Resumen Ventas</button>
    </nav>

    <!-- Sección 1: Gestión de productos -->
    <div id="seccion1" class="seccion" style="display:none;">
        <div class="contenido-seccion">
            <h2>Gestión de Productos</h2>

            <div class="campo">
                <label for="nombreProducto">Nombre:</label>
                <input type="text" id="txtNombre"/>
                <div class="error" id="lblErrorNombre"></div>
                
            </div>
            <div class="campo">
                <label for="nombreProducto">Descripción:</label>
                <input type="text" id="txtDescripcion"/>
                <div class="error" id="lblErrorDescripcion"></div>
            </div>
            <div class="campo">
                <label for="nombreProducto">Categoria:</label>
                <input type="text" id="txtCategoria"/>
                <div class="error" id="lblErrorCategoria"></div>
            </div>
            <div class="campo">
                <label for="nombreProducto">Precio:</label>
                <input type="text" id="txtPrecio"/>
                <div class="error" id="lblErrorPrecio"></div>
            </div>
            <div class="campo">
                <label for="nombreProducto">Stock:</label>
                <input type="text" id="txtStock"/>
                <div class="error" id="lblErrorStock"></div>
            <p class="espacioCorto"> </p>
                <input type="button" value="AGERGAR PRODUCTO" onclick="agregarProducto();" class="button"/>
                <input type="button" value="BUSCAR PRODUCTO" onclick="buscarProducto();" class="button"/>
                <label for="nombreProducto" id="lblEncontrado"></label>
            </div>
            <h3>Productos Registrados</h3>
            <div id="tablaProductos">

            </div>
            

            <div id="estadisticasProductos" class="estadisticaProductos">
                <p>Total productos: <span id="totalProductos">0</span></p>
                <p>Stock total: <span id="stockTotal">0</span></p>
                <p>Valor inventario: $<span id="valorInventario">0.00</span></p>
            </div>
        </div>
    </div>

    <!-- Sección 2: Gestión de categorías -->
    <div id="seccion2" class="seccion" style="display:none;">
        <div class="contenido-seccion">
            <h2>Gestión de Categorías</h2>

            <div class="campo">
                <label for="nombreCategoria">Nombre Categoría:</label>
                <input type="text" id="nombreCategoria" placeholder="Ej: Ropa" />
                <div class="error" id="errorNombreCategoria">......</div>
            </div>

            <div class="campo">
                <label for="descripcionCategoria">Descripción Corta:</label>
                <input type="text" id="descripcionCategoria" maxlength="50" placeholder="Opcional" />
                <div class="error" id="errorDescripcionCategoria">.......</div>
            </div>

            <div class="campo">
                <button type="button" onclick="agregarCategoria()">Agregar Categoría</button>
            </div>

            <h3>Categorías Registradas</h3>
            <div id="listaCategorias">

            </div>
            <ul id="listaCategorias">
                <!-- Categorías aparecerán aquí -->
            </ul>
        </div>
    </div>

    <!-- Sección 3: Carrito de compras -->
    <div id="seccion3" class="seccion" style="display:none;">
        <div class="contenido-seccion">
            <h2>Carrito de Compras</h2>
            <p>Añadir productos al carrito desde la lista de productos disponibles.</p>
            <div id="productosDisponibles">
                  <button type="button" class="tabla-minimalista" onclick="mostrarCarrito()">Agregar Categoría</button>
                <!-- Productos para añadir -->
            </div>

            <h3>Resumen del Carrito</h3>
            <table id="tablaCarrito" class="tabla-minimalista">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Cantidad</th>
                        <th>Subtotal</th>
                    </tr>
                </thead>
                <tbody id="Total carrito">
                    

                    <!-- Carrito aparecerá aquí -->
                </tbody>
            </table>
            <p>Total: $<span id="totalCarrito">0.00</span></p>
        </div>
    </div>

    <!-- Sección 4: Formulario Cliente -->
    <div id="seccion4" class="seccion" style="display:none;">
        <div class="contenido-seccion">
            <h2>Datos del Cliente</h2>

            <div class="campo">
                <label for="nombreCliente">Nombre Completo:</label>
                <input type="text" id="nombreCliente" placeholder="Ej: Juan Pérez" />
                <div class="error" id="errorNombreCliente"></div>
            </div>

            <div class="campo">
                <label for="emailCliente">Correo Electrónico:</label>
                <input type="email" id="emailCliente" placeholder="Ej: juan@example.com" />
                <div class="error" id="errorEmailCliente"></div>
            </div>

            <div class="campo">
                <label for="telefonoCliente">Teléfono:</label>
                <input type="tel" id="telefonoCliente" placeholder="Ej: 0991234567" />
                <div class="error" id="errorTelefonoCliente"></div>
            </div>

            <div class="campo">
                <label for="direccionCliente">Dirección:</label>
                <textarea id="direccionCliente" placeholder="Ej: Calle Falsa 123"></textarea>
                <div class="error" id="errorDireccionCliente"></div>
            </div>

            <div class="campo">
                <button type="button" onclick="guardarDatosCliente();">Guardar Cliente</button>
                <button type="button" onclick="finalizarCompra();" id="finalizarCompra">Finalizar Compra</button>
                
            </div>
            <div class="campo"></div>
                <h2 id="resumen">

                </h2>
            </div>

        </div>
    </div>

    <!-- Sección 5: Resumen de ventas -->
    <div id="seccion5" class="seccion" style="display:none;">
        <div class="contenido-seccion">
            <h2>Resumen de Ventas</h2>
            
            <p></p>
            <div id="tablaVentas">

            </div>

            <div id="estadisticasVentas">
                <p>Total Ventas: $<span id="totalVentas">0.00</span></p>
                <p>Producto más vendido: <span id="productoMasVendido">-</span></p>
            </div>
        </div>
    </div>

    <script>
        function mostrarSeccion(id) {
            document.querySelectorAll('.seccion').forEach(div => {
                div.style.display = div.id === id ? 'block' : 'none';
            });
            mostrarVentas()
            deshabilitarComponente("finalizarCompra");
            mostrarCategorias()
            actualizarEstadisticasProductos()
            mostrarProductos()
        }
    </script>

</body>

</html>